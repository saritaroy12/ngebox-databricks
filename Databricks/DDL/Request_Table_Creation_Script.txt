-- Input table

CREATE TABLE com_us_alyt_ngebox.ib_NGEBox_Suggestion_Requests (
  NGEBox_Record_ID BIGINT COMMENT 'Unique Record Identifier',
  usecase_id INT COMMENT 'Represents as specific use case, which will get processed based on its metadata in NGEBox',
  EMAIL_ADDRESS_INFORM STRING COMMENT 'Email Addresses of individuals to inform of processing status. Success and Error messages are emailed to this address. Multiple email addresses must be concatenated via a semicolon',
  HCP_NPI STRING COMMENT 'This is the National Identifier for a Health Care Professional',
  HCP_OMNI_ID STRING COMMENT 'The Takeda common identifier for Health Care Professionals issued by our Omni system',
  HCP_ZIP_CODE STRING COMMENT 'Zip code of HCP that is relevant. Based on this zip code, we will find the right sales professional',
  external_id STRING COMMENT 'Optional field for requestors to provide. If not provided, we will create this value uniquely during the process',
  account_priority_score_vod__c DECIMAL(2,1) COMMENT 'This field controls what the display order will be for Suggestions, Score is summed for Territory View Account prioritization',
  account_vod__c STRING COMMENT 'Veeva Account ID for the HCP',
  actioned_vod__c INT COMMENT 'Used for Trigger to Summarize data',
  action_count_vod__c INT COMMENT 'Used for Trigger to Summarize data',
  call_objective_clm_id_vod__c STRING COMMENT 'Controls which CLM presentation will be pulled through to the Call Objective',
  call_objective_from_date_vod__c DATE COMMENT 'The start date for each Suggestion of type Call_Objective',
  call_obj_on_by_default_vod__c BOOLEAN COMMENT 'determines whether call objective is on by default',
  call_obj_record_type_vod__c STRING COMMENT 'Type of suggestion e.g., insight, suggestion, call',
  call_objective_to_date_vod__c DATE COMMENT 'The end date for each Suggestion of type Call_Objective',
  dismissed_vod__c INT COMMENT 'Used for Trigger to Summarize data and to facilitate dismissal of suggestions at account vs user level',
  dismiss_count_vod__c INT COMMENT 'Count of number of suggestions dismissed by Sales Rep',
  display_dismiss_vod__c STRING COMMENT 'Flag to display “Dismiss” option for suggestion. When a Suggestion is dismissed, it is removed from the UI and an update is made to the Suggestion Feedback object for reporting.',
  display_mark_as_complete_vod__c STRING COMMENT 'Flag to display mark as “complete” when suggestion is completed ',
  display_score_vod__c STRING COMMENT 'The score determines the order in which Accounts display in the Suggestions section on the Home page. This field determines whether the score displays.',
  email_template_id_vod__c STRING COMMENT 'ID for the email template type (if email needed)',
  email_template_vault_id_vod__c STRING COMMENT 'Drives what template is used when Email_Template_vod = True', 
  email_template_vod__c STRING COMMENT 'Indicator for email template type if needed as part of suggestion',
  expiration_date_vod__c DATE COMMENT 'A Suggestion can be assigned with an expiration date value. If a Suggestion has an expiration date earlier than the current date, it is removed.Typically expires after 2 weeks of post date',
  marked_as_complete_vod__c INT COMMENT 'Used for Trigger to Summarize data',
  mark_complete_count_vod__c INT COMMENT 'Count of suggestions marked as complete',
  no_homepage_vod__c BOOLEAN COMMENT 'Flag to display suggestions on the homepage.',
  planned_call_date_vod__c DATE COMMENT 'Determines date Call is scheduled for',
  posted_date_vod__c DATE COMMENT 'Posted date for suggestion',
  priority_vod__c STRING COMMENT 'Suggestion can have two priorities, Urgent or Normal. A priority value is required for Suggestions for the functionality to work. Suggestions do not display correctly if the Priority_vod field is null.',
  reason_vod__c STRING COMMENT 'Detailed reason for suggestion',
  recordtypeid_suggestion STRING COMMENT 'Record type identifier per suggestion type. “Insight” type of suggestion will have the same ID across records',
  record_type_name_vod__c_suggest STRING COMMENT 'Specifies the type of suggestion like an Insight, Call or Email.Insights are like Suggestions, but they do not have a direct action associated to them. Insights display on a separate Timeline Overview panel.',
  suggest_external_id_vod__c STRING COMMENT 'Map to Suggestion and User for feedback. Same as unique External ID',
  suppress_reason_vod__c BOOLEAN COMMENT 'If this field is selected, the reason String does not display on the Homepage view. It only displays on the Account Overview Timeline panel and when drilling into the Suggestion detail from the Homepage.',
  title_vod__c STRING COMMENT 'Title for the suggestion ',
  ownerid STRING COMMENT 'Veeva Sales Rep ID',
  detail_group_vod__c STRING COMMENT 'Used to define which product groups are associated with a Suggestion. Lookup to the Product Group on Product_vod.',
  driver_vod__c STRING COMMENT 'Used to define which data drivers are associated with a suggestion',
  email_fragment_order_vod__c STRING COMMENT 'Specifies order in which attachments are attached to email template',
  email_fragment_vod__c STRING COMMENT 'Used to capture fragment ids associated to template in suggestions',
  suggest_tag_external_id_vod__c STRING COMMENT 'External ID',
  product_vod__c STRING COMMENT 'Used to define which products are associated with a Suggestion. Lookup to the Product/s in the Product Catalog.(Detail, Detail Topic, Detail Group)',
  record_type_name_vod__c_sug_tag STRING COMMENT 'Designates what record type suggestion tag uses',
  recordtypeid_suggestion_tag STRING COMMENT 'Record identifier for type of suggestion ',
  analytics_title STRING,
  suggestion_survey_vod__c STRING,
  Lead_id STRING COMMENT 'If this field is populated, then NGEBox will inform Veeva of the corresponding Lead through the suggestion record and Veeva will auto-close it',
  Moved_To_Processed TIMESTAMP COMMENT 'Once the data in Request table is moved to the processed table then this field is updated with the timestamp , it would be empty for the new records that are not processed to process table',
  Created_Date DATE COMMENT 'Record Creation Date',
  Created_By STRING COMMENT 'Record Created By'
);

--ALTER TABLE com_us_alyt_ngebox.ib_NGEBox_Suggestion_Requests ADD CONSTRAINT requests_pk PRIMARY KEY(NGEBox_Record_ID);
